<div class="container mt-3 mb-3">
  <div class="card shadow">
    <div class="card-header d-flex">
      Analysis Output
    </div>
    <div class="card-body">
      <!-- Overall Analysis Statistics -->
      <h4 class="mb-1">
        Analysis Progress
      </h4>
      <p>
        <ngb-progressbar
          [type]="progressBarType"
          [value]="formatProgress((completeFiles / totalFiles) * 100)"
        >
          {{ completeFiles }} of {{ totalFiles }} Completed
        </ngb-progressbar>
      </p>

      <!-- Current Analysis Statistics -->
      <div *ngIf="currentAnalysis">
        <h4 class="mb-1">Current File</h4>

        <div class="d-flex">
          <div class="analysis-header">
            <p class="mr-3 mb-0 file-header"><strong>Type</strong></p>
          </div>
          <div class="analysis-value">
            <p class="mr-3 mb-0">
              {{ currentAnalysis.label }}
            </p>
          </div>
        </div>

        <div class="d-flex">
          <div class="analysis-header">
            <p class="mr-3 mb-0 file-header"><strong>File</strong></p>
          </div>
          <div class="analysis-value">
            <p class="mr-3 mb-0">
              {{ currentAnalysis.getAudioBasename() }}
            </p>
          </div>
        </div>

        <div class="d-flex">
          <div class="analysis-header">
            <p class="mr-3 mb-0 file-header"><strong>Output</strong></p>
          </div>
          <div class="analysis-value">
            <p class="mr-3 mb-0">
              {{ currentAnalysis.output }}
            </p>
          </div>
        </div>

        <p class="mr-3 mb-0"><strong>Progress</strong></p>
        <div>
          <p>
            <ngb-progressbar
              type="info"
              showValue="true"
              [value]="formatProgress(currentProgress)"
            ></ngb-progressbar>
          </p>
        </div>
      </div>
    </div>

    <!-- Analysis options -->
    <div class="d-flex justify-content-around pb-3">
      <button
        class="btn btn-outline-danger"
        [disabled]="!running"
        (click)="stopAnalysis()"
      >
        Stop Analysis
      </button>
      <button
        class="btn btn-outline-warning"
        [disabled]="!running"
        (click)="togglePause()"
      >
        {{ pause ? "Unpause Analysis" : "Pause Analysis" }}
      </button>
      <button
        class="btn btn-outline-success"
        [disabled]="running"
        (click)="nextButton()"
      >
        New Analysis
      </button>
    </div>
  </div>
</div>
